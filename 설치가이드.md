# 패키지 설치 가이드

## 필수 패키지 목록

본 프로젝트를 실행하기 위해 다음 패키지들이 필요합니다:

### 1. 필수 패키지

| 패키지명 | 용도 | 사용 스크립트 |
|---------|------|-------------|
| `numpy` | 수치 연산 및 배열 처리 | 모든 스크립트 |
| `opencv-python` | 이미지 처리 및 컴퓨터 비전 (cv2) | 1단계, 3단계 |
| `Pillow` | 이미지 파일 읽기/쓰기 (PIL) | 1단계, 3단계 |
| `matplotlib` | 그래프 및 이미지 시각화 | 3단계 |
| `openai` | OpenAI API 클라이언트 | 2단계 |

### 2. 표준 라이브러리 (별도 설치 불필요)

- `pathlib` - 파일 경로 처리
- `json` - JSON 파일 읽기/쓰기

---

## 설치 방법

### 방법 1: requirements.txt 사용 (권장)

```bash
pip install -r requirements.txt
```

### 방법 2: 개별 설치

```bash
pip install numpy opencv-python Pillow matplotlib openai
```

### 방법 3: 가상환경 사용 (권장)

```bash
# 가상환경 생성
python -m venv venv

# 가상환경 활성화
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 패키지 설치
pip install -r requirements.txt
```

---

## 패키지별 상세 정보

### numpy
- **버전**: 1.21.0 이상
- **용도**: 배열 연산, 수치 계산
- **설치**: `pip install numpy`

### opencv-python
- **버전**: 4.5.0 이상
- **용도**: 이미지 처리, morphological 연산, contour 추출
- **설치**: `pip install opencv-python`
- **참고**: `cv2` 모듈로 import

### Pillow
- **버전**: 8.0.0 이상
- **용도**: 이미지 파일 읽기/쓰기, 형식 변환
- **설치**: `pip install Pillow`
- **참고**: `PIL` 모듈로 import

### matplotlib
- **버전**: 3.5.0 이상
- **용도**: 폴리곤 렌더링, 이미지 저장
- **설치**: `pip install matplotlib`

### openai
- **버전**: 1.0.0 이상
- **용도**: OpenAI API를 통한 LLM 호출
- **설치**: `pip install openai`
- **참고**: API 키 설정 필요 (환경변수 또는 코드 내)

---

## OpenAI API 설정

2단계 스크립트(`2.plan_from_parcel_llm_1127_copy.py`)를 사용하려면 OpenAI API 키가 필요합니다.

### 방법 1: 환경변수 설정 (권장)

**Windows (PowerShell)**:
```powershell
$env:OPENAI_API_KEY="your-api-key-here"
```

**Windows (CMD)**:
```cmd
set OPENAI_API_KEY=your-api-key-here
```

**Linux/Mac**:
```bash
export OPENAI_API_KEY="your-api-key-here"
```

### 방법 2: .env 파일 사용

프로젝트 루트에 `.env` 파일 생성:
```
OPENAI_API_KEY=your-api-key-here
```

그리고 코드에서 `python-dotenv` 사용:
```python
from dotenv import load_dotenv
load_dotenv()
```

---

## 버전 확인

설치된 패키지 버전 확인:

```bash
pip list | grep -E "numpy|opencv|Pillow|matplotlib|openai"
```

또는 Python에서:

```python
import numpy as np
import cv2
from PIL import Image
import matplotlib
import openai

print(f"numpy: {np.__version__}")
print(f"opencv-python: {cv2.__version__}")
print(f"Pillow: {Image.__version__}")
print(f"matplotlib: {matplotlib.__version__}")
print(f"openai: {openai.__version__}")
```

---

## 문제 해결

### opencv-python 설치 오류
- Windows: Visual C++ Redistributable 설치 필요
- Linux: `sudo apt-get install python3-opencv` 시도

### matplotlib 백엔드 오류
- GUI 백엔드가 없는 경우: `pip install PyQt5` 또는 `pip install tkinter`

### OpenAI API 오류
- API 키가 올바르게 설정되었는지 확인
- 인터넷 연결 확인
- API 사용량 한도 확인

---

## 최소 시스템 요구사항

- **Python**: 3.7 이상
- **메모리**: 최소 4GB RAM (이미지 처리용)
- **디스크**: 약 500MB (패키지 설치용)

---

## 참고 자료

- [NumPy 공식 문서](https://numpy.org/doc/)
- [OpenCV 공식 문서](https://docs.opencv.org/)
- [Pillow 공식 문서](https://pillow.readthedocs.io/)
- [Matplotlib 공식 문서](https://matplotlib.org/)
- [OpenAI Python SDK](https://github.com/openai/openai-python)




